<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í˜¸ì¹˜ë¯¼ ìŒ¤ - ë² íŠ¸ë‚¨ì–´ ê³¼ì™¸</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Marked.js (Markdown Renderer) -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&family=Quicksand:wght@500;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #FFF8F0; /* ì—°í•œ ë² ì´ì§€ */
        }
        .font-cute {
            font-family: 'Quicksand', 'Noto Sans KR', sans-serif;
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }
        ::-webkit-scrollbar-track {
            background: transparent;
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 10px;
        }

        /* Bubble Styles */
        .bubble {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 18px;
            font-size: 0.95rem;
            line-height: 1.6;
            position: relative;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        /* Markdown Content Styling */
        .prose p { margin-bottom: 0.5em; }
        .prose p:last-child { margin-bottom: 0; }
        .prose strong { color: #d97706; font-weight: 700; } /* ê°•ì¡°ìƒ‰ */
        .prose ul { list-style-type: disc; padding-left: 1.2em; margin: 0.5em 0; }

        /* Loading Animation */
        .dot-flashing {
            position: relative;
            width: 6px;
            height: 6px;
            border-radius: 5px;
            background-color: #999;
            color: #999;
            animation: dot-flashing 1s infinite linear alternate;
            animation-delay: 0.5s;
        }
        .dot-flashing::before, .dot-flashing::after {
            content: '';
            display: inline-block;
            position: absolute;
            top: 0;
        }
        .dot-flashing::before {
            left: -10px;
            width: 6px;
            height: 6px;
            border-radius: 5px;
            background-color: #999;
            color: #999;
            animation: dot-flashing 1s infinite alternate;
            animation-delay: 0s;
        }
        .dot-flashing::after {
            left: 10px;
            width: 6px;
            height: 6px;
            border-radius: 5px;
            background-color: #999;
            color: #999;
            animation: dot-flashing 1s infinite alternate;
            animation-delay: 1s;
        }
        @keyframes dot-flashing {
            0% { background-color: #999; }
            50%, 100% { background-color: #e2e2e2; }
        }
    </style>
</head>
<body class="h-screen flex flex-col overflow-hidden text-gray-800">

    <!-- 1. Header -->
    <header class="bg-teal-400 text-white p-4 shadow-md flex justify-between items-center z-10">
        <div class="flex items-center gap-2">
            <span class="text-2xl">ğŸ‘©â€ğŸ«</span>
            <h1 class="text-lg font-bold font-cute">í˜¸ì¹˜ë¯¼ ìŒ¤ (CÃ´ SÃ i GÃ²n)</h1>
        </div>
        <button id="settingsBtn" class="p-2 hover:bg-teal-500 rounded-full transition">
            <!-- Cog Icon -->
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z" />
                <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
              </svg>
        </button>
    </header>

    <!-- 2. Modes -->
    <div class="bg-white shadow-sm p-3 flex gap-2 justify-center overflow-x-auto">
        <button onclick="setMode('chat')" class="flex-1 min-w-[100px] py-2 px-3 bg-orange-100 text-orange-700 rounded-lg hover:bg-orange-200 text-sm font-bold shadow-sm transition flex flex-col items-center gap-1">
            ğŸ’¬ ììœ  ëŒ€í™”
        </button>
        <button onclick="setMode('lecture')" class="flex-1 min-w-[100px] py-2 px-3 bg-teal-100 text-teal-700 rounded-lg hover:bg-teal-200 text-sm font-bold shadow-sm transition flex flex-col items-center gap-1">
            ğŸ« ì˜¤ëŠ˜ì˜ ê°•ì˜
        </button>
        <button onclick="setMode('story')" class="flex-1 min-w-[100px] py-2 px-3 bg-indigo-100 text-indigo-700 rounded-lg hover:bg-indigo-200 text-sm font-bold shadow-sm transition flex flex-col items-center gap-1">
            ğŸ“– ì§§ì€ ì´ì•¼ê¸°
        </button>
    </div>

    <!-- 3. Chat Container -->
    <main id="chatContainer" class="flex-1 overflow-y-auto p-4 space-y-4">
        <!-- Welcome Message -->
        <div class="flex items-start gap-2">
            <div class="w-8 h-8 rounded-full bg-teal-200 flex items-center justify-center text-lg shadow-sm flex-shrink-0">ğŸ‘©â€ğŸ«</div>
            <div class="bubble bg-white text-gray-800 rounded-tl-none border border-gray-100">
                <p>ì•ˆë…•í•˜ì„¸ìš”! í˜¸ì¹˜ë¯¼ì—ì„œ ì˜¨ ë² íŠ¸ë‚¨ì–´ ì„ ìƒë‹˜ì´ì—ìš”. ğŸ‘‹<br>
                ì €ë‘ ê°™ì´ ë² íŠ¸ë‚¨ ë‚¨ë¶€ ì‚¬íˆ¬ë¦¬ë¥¼ ì¬ë¯¸ìˆê²Œ ë°°ì›Œë´ìš”!<br>
                <strong>ì˜¤ë¥¸ìª½ ìƒë‹¨ í†±ë‹ˆë°”í€´</strong>ë¥¼ ëˆŒëŸ¬ API í‚¤ë¥¼ ë¨¼ì € ì„¤ì •í•´ì£¼ì„¸ìš”.</p>
            </div>
        </div>
    </main>

    <!-- 4. Loading Indicator (Hidden by default) -->
    <div id="loadingIndicator" class="hidden px-4 py-2">
        <div class="flex items-center gap-3">
            <div class="w-8 h-8 rounded-full bg-teal-200 flex items-center justify-center text-lg flex-shrink-0">ğŸ‘©â€ğŸ«</div>
            <div class="bubble bg-white rounded-tl-none border border-gray-100 flex items-center gap-2">
                <span class="text-sm text-gray-500">ì„ ìƒë‹˜ì´ ìƒê° ì¤‘ì´ì—ìš”</span>
                <div class="dot-flashing mx-2"></div>
            </div>
        </div>
    </div>

    <!-- 5. Input Area -->
    <footer class="p-3 bg-white border-t border-gray-200">
        <div class="max-w-4xl mx-auto relative flex items-center gap-2">
            <input type="text" id="userInput" 
                class="w-full bg-gray-100 text-gray-800 rounded-full pl-5 pr-12 py-3 focus:outline-none focus:ring-2 focus:ring-teal-400 transition placeholder-gray-400"
                placeholder="ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”..." onkeypress="handleEnter(event)">
            <button onclick="sendMessage()" 
                class="absolute right-2 bg-teal-400 hover:bg-teal-500 text-white rounded-full p-2 w-9 h-9 flex items-center justify-center shadow-md transition transform active:scale-95">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5 ml-0.5">
                    <path d="M3.105 2.289a.75.75 0 00-.826.95l1.414 4.925A1.5 1.5 0 005.135 9.25h6.115a.75.75 0 010 1.5H5.135a1.5 1.5 0 00-1.442 1.086l-1.414 4.926a.75.75 0 00.826.95 28.896 28.896 0 0015.293-7.154.75.75 0 000-1.115A28.897 28.897 0 003.105 2.289z" />
                </svg>
            </button>
        </div>
    </footer>

    <!-- API Key Modal -->
    <div id="apiModal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="bg-white rounded-2xl p-6 w-11/12 max-w-md shadow-2xl transform transition-all">
            <h2 class="text-xl font-bold mb-4 text-teal-600">âš™ï¸ ì„¤ì •</h2>
            <p class="mb-2 text-sm text-gray-600">Google Gemini API Keyë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</p>
            <input type="password" id="apiKeyInput" class="w-full border border-gray-300 rounded-lg p-3 mb-4 focus:outline-none focus:border-teal-500" placeholder="API Key ì…ë ¥">
            <div class="flex justify-end gap-2">
                <button onclick="closeModal()" class="px-4 py-2 text-gray-500 hover:bg-gray-100 rounded-lg transition">ì·¨ì†Œ</button>
                <button onclick="saveApiKey()" class="px-4 py-2 bg-teal-400 hover:bg-teal-500 text-white rounded-lg font-bold shadow-md transition">ì €ì¥í•˜ê¸°</button>
            </div>
            <p class="mt-4 text-xs text-gray-400 text-center">API KeyëŠ” ë¸Œë¼ìš°ì € ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ë§Œ ì €ì¥ë©ë‹ˆë‹¤.</p>
        </div>
    </div>

    <script>
        // ---------------- CONSTANTS & CONFIG ----------------
        const SYSTEM_INSTRUCTION = `
        ë‹¹ì‹ ì€ 'í˜¸ì¹˜ë¯¼(ë‚¨ë¶€) ë² íŠ¸ë‚¨ì–´' ì „ë¬¸ ê³¼ì™¸ ì„ ìƒë‹˜ì…ë‹ˆë‹¤. 
        ì‚¬ìš©ì ì´ë¦„ì€ 'í•™ìƒ'ì…ë‹ˆë‹¤.
        
        [í˜ë¥´ì†Œë‚˜]
        - ì´ë¦„: í˜¸ì¹˜ë¯¼ ìŒ¤ (CÃ´ SÃ i GÃ²n)
        - ì„±ê²©: ë§¤ìš° ë‹¤ì •í•˜ê³ , ì¹­ì°¬ì„ ë§ì´ í•´ì¤ë‹ˆë‹¤.
        - ì¶œì‹ : ë² íŠ¸ë‚¨ í˜¸ì¹˜ë¯¼ (ë‚¨ë¶€ í† ë°•ì´)
        - ëŒ€ìƒ: ë² íŠ¸ë‚¨ì–´ë¥¼ ì „í˜€ ëª¨ë¥´ëŠ” í•œêµ­ì¸ ì´ˆë³´ì

        [ì ˆëŒ€ ê·œì¹™ - ë°˜ë“œì‹œ ì§€í‚¬ ê²ƒ]
        1. **ë°©ì–¸**: ë¬´ì¡°ê±´ **ë² íŠ¸ë‚¨ ë‚¨ë¶€(í˜¸ì¹˜ë¯¼) ì–´íœ˜ì™€ ë°œìŒ**ì„ ê¸°ì¤€ìœ¼ë¡œ ê°€ë¥´ì¹˜ì„¸ìš”.
           - ë¶ë¶€ì–´(í‘œì¤€ì–´) ì‚¬ìš© ê¸ˆì§€. (ì˜ˆ: 'chÃ o'ëŠ” ë¶€ë“œëŸ½ê²Œ, 'thÃ¬a' ëŒ€ì‹  'muá»—ng', 'chÃ©n' ì‚¬ìš©, 'v' ë°œìŒì„ 'd'ë‚˜ 'y'ì— ê°€ê¹ê²Œ ì„¤ëª… ë“±)
        2. **ë°œìŒ í‘œê¸°**: ë² íŠ¸ë‚¨ì–´ ë¬¸ì¥ ë°”ë¡œ ë°‘ì—ëŠ” **ë°˜ë“œì‹œ í•œê¸€ë¡œ ë°œìŒ**ì„ í‘œê¸°í•˜ì„¸ìš”.
           - (ì˜ˆì‹œ)
             Em Äƒn cÆ¡m chÆ°a?
             [ì•° ì•™ ê»Œ ì¯”ì–´?]
        3. **ì–¸ì–´**: ì„¤ëª…ì€ ì•„ì£¼ ì‰¬ìš´ í•œêµ­ì–´ë¡œ í•˜ì„¸ìš”.
        4. **í˜•ì‹**: ë§ˆí¬ë‹¤ìš´ì„ ì‚¬ìš©í•˜ì—¬ ê°€ë…ì„± ìˆê²Œ ì‘ì„±í•˜ì„¸ìš”. ì¤‘ìš”í•œ ë‹¨ì–´ëŠ” ë³¼ë“œì²´(**) ì²˜ë¦¬í•˜ì„¸ìš”.
        
        [ëª¨ë“œë³„ í–‰ë™]
        - ê°•ì˜ ëª¨ë“œ ìš”ì²­ ì‹œ: ì´ˆë³´ìë¥¼ ìœ„í•œ ì•„ì£¼ ê°„ë‹¨í•œ ë¬¸ë²•ì´ë‚˜ í‘œí˜„ 1ê°œë¥¼ ê³¨ë¼ ì˜ˆì‹œì™€ í•¨ê»˜ ì„¤ëª…í•˜ì„¸ìš”.
        - ì´ì•¼ê¸° ëª¨ë“œ ìš”ì²­ ì‹œ: ìœ ì¹˜ì›ìƒë„ ì´í•´í•  ìˆ˜ ìˆëŠ” ì•„ì£¼ ì§§ê³  ì‰¬ìš´ ë² íŠ¸ë‚¨ì–´ ì´ì•¼ê¸°ë¥¼ ë‚¨ë¶€ ë°©ì–¸ìœ¼ë¡œ ë“¤ë ¤ì£¼ì„¸ìš”. (í•œê¸€ ë°œìŒ/í•´ì„ í•„ìˆ˜)
        `;

        let chatHistory = [
            { role: "user", parts: [{ text: SYSTEM_INSTRUCTION }] },
            { role: "model", parts: [{ text: "ë„¤, ì•Œê² ìŠµë‹ˆë‹¤! ì €ëŠ” ë‹¤ì •í•œ í˜¸ì¹˜ë¯¼ ì„ ìƒë‹˜ì…ë‹ˆë‹¤. ë‚¨ë¶€ ë°©ì–¸ìœ¼ë¡œ ì¹œì ˆí•˜ê²Œ ê°€ë¥´ì³ ë“œë¦´ê²Œìš”." }] }
        ];

        // ---------------- DOM ELEMENTS ----------------
        const chatContainer = document.getElementById('chatContainer');
        const userInput = document.getElementById('userInput');
        const loadingIndicator = document.getElementById('loadingIndicator');
        const apiModal = document.getElementById('apiModal');
        const apiKeyInput = document.getElementById('apiKeyInput');
        const settingsBtn = document.getElementById('settingsBtn');

        // ---------------- INITIALIZATION ----------------
        window.addEventListener('DOMContentLoaded', () => {
            const savedKey = localStorage.getItem('gemini_api_key');
            if (!savedKey) {
                openModal();
            } else {
                apiKeyInput.value = savedKey;
            }
        });

        // ---------------- MODAL & SETTINGS ----------------
        settingsBtn.addEventListener('click', openModal);

        function openModal() {
            apiModal.classList.remove('hidden');
        }

        function closeModal() {
            apiModal.classList.add('hidden');
        }

        function saveApiKey() {
            const key = apiKeyInput.value.trim();
            if (!key) {
                alert('API Keyë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                return;
            }
            localStorage.setItem('gemini_api_key', key);
            closeModal();
            alert('API Keyê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ‰');
        }

        // ---------------- CHAT LOGIC ----------------
        function handleEnter(e) {
            if (e.key === 'Enter') sendMessage();
        }

        function scrollToBottom() {
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        async function setMode(mode) {
            let prompt = "";
            if (mode === 'chat') {
                prompt = "ì„ ìƒë‹˜, ìš°ë¦¬ ììœ ë¡­ê²Œ ëŒ€í™”í•´ìš”! ë² íŠ¸ë‚¨ì–´ë¡œ ê°„ë‹¨í•œ ì¸ì‚¬ ë¶€íƒí•´ìš”.";
            } else if (mode === 'lecture') {
                prompt = "ì„ ìƒë‹˜, ì˜¤ëŠ˜ ë°°ìš¸ **ê¸°ì´ˆ ê°•ì˜(ë¬¸ë²• ë˜ëŠ” í‘œí˜„)** í•˜ë‚˜ë§Œ ì•„ì£¼ ì‰½ê²Œ ì•Œë ¤ì£¼ì„¸ìš”. (ë‚¨ë¶€ ë°©ì–¸ ê¸°ì¤€)";
            } else if (mode === 'story') {
                prompt = "ì„ ìƒë‹˜, ì•„ì£¼ ì‰¬ìš´ ë‹¨ì–´ë¡œ ëœ **ì§§ì€ ë² íŠ¸ë‚¨ì–´ ì´ì•¼ê¸°** í•˜ë‚˜ ë“¤ë ¤ì£¼ì„¸ìš”. (ë‚¨ë¶€ ë°©ì–¸, í•œê¸€ ë°œìŒ í•„ìˆ˜)";
            }
            
            userInput.value = prompt;
            sendMessage();
        }

        function appendMessage(role, text) {
            const div = document.createElement('div');
            div.className = `flex items-start gap-2 ${role === 'user' ? 'justify-end' : ''}`;

            // Avatar for AI
            const avatar = role === 'model' 
                ? `<div class="w-8 h-8 rounded-full bg-teal-200 flex items-center justify-center text-lg shadow-sm flex-shrink-0">ğŸ‘©â€ğŸ«</div>` 
                : '';
            
            // Speech Button for AI
            const ttsButton = role === 'model'
                ? `<button onclick="speakText(this)" data-text="${encodeURIComponent(text)}" class="absolute -right-8 top-2 text-gray-400 hover:text-teal-500 transition" title="ë“£ê¸°">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z" />
                    </svg>
                   </button>`
                : '';

            // Style classes based on role
            const bubbleClass = role === 'user' 
                ? 'bg-orange-300 text-white rounded-tr-none' 
                : 'bg-white text-gray-800 rounded-tl-none border border-gray-100';

            // Parse Markdown
            const parsedContent = marked.parse(text);

            div.innerHTML = `
                ${role === 'model' ? avatar : ''}
                <div class="bubble ${bubbleClass} prose prose-sm max-w-none">
                    ${parsedContent}
                    ${ttsButton}
                </div>
            `;

            chatContainer.appendChild(div);
            scrollToBottom();
        }

        async function sendMessage() {
            const text = userInput.value.trim();
            if (!text) return;

            const apiKey = localStorage.getItem('gemini_api_key');
            if (!apiKey) {
                openModal();
                return;
            }

            // 1. User Message UI
            userInput.value = '';
            appendMessage('user', text);

            // 2. Show Loading
            loadingIndicator.classList.remove('hidden');
            scrollToBottom();

            // 3. Prepare History
            chatHistory.push({ role: "user", parts: [{ text: text }] });

            try {
                // 4. API Call
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: chatHistory,
                        generationConfig: {
                            temperature: 0.7,
                            maxOutputTokens: 1000,
                        }
                    })
                });

                const data = await response.json();
                
                if (data.error) {
                    throw new Error(data.error.message);
                }

                const botText = data.candidates[0].content.parts[0].text;

                // 5. AI Message UI
                loadingIndicator.classList.add('hidden');
                appendMessage('model', botText);

                // 6. Update History
                chatHistory.push({ role: "model", parts: [{ text: botText }] });

            } catch (error) {
                loadingIndicator.classList.add('hidden');
                appendMessage('model', `âŒ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆì–´ìš”: ${error.message}<br>API í‚¤ë¥¼ í™•ì¸í•˜ê±°ë‚˜ ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.`);
            }
        }

        // ---------------- TTS FUNCTION ----------------
        function speakText(btn) {
            const rawText = decodeURIComponent(btn.getAttribute('data-text'));
            
            // Remove Markdown symbols for cleaner speech (Basic regex)
            const cleanText = rawText.replace(/[\*_\[\]]/g, '').replace(/\(.*\)/g, ''); // ê´„í˜¸ ë‚´ìš©(ë³´í†µ í•œêµ­ì–´ ë°œìŒ) ì œê±° ì‹œë„

            if ('speechSynthesis' in window) {
                window.speechSynthesis.cancel(); // Stop previous

                const utterance = new SpeechSynthesisUtterance(cleanText);
                utterance.lang = 'vi-VN'; // ë² íŠ¸ë‚¨ì–´ ì„¤ì •
                utterance.rate = 0.9; // ì•½ê°„ ì²œì²œíˆ
                
                // Mobile compatibility check
                const voices = window.speechSynthesis.getVoices();
                // If vi-VN voice is found, use it specifically (optional optimization)
                const vnVoice = voices.find(v => v.lang.includes('vi'));
                if(vnVoice) utterance.voice = vnVoice;

                window.speechSynthesis.speak(utterance);

                // Visual Feedback
                const originalIcon = btn.innerHTML;
                btn.innerHTML = 'ğŸ”Š';
                btn.classList.add('text-teal-600', 'scale-110');
                
                utterance.onend = () => {
                    btn.innerHTML = originalIcon;
                    btn.classList.remove('text-teal-600', 'scale-110');
                };
            } else {
                alert('ì´ ë¸Œë¼ìš°ì €ëŠ” ìŒì„± ë“£ê¸°ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ğŸ˜­');
            }
        }
    </script>
</body>
</html>
